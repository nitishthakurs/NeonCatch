<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Neon Mobile Catch</title>
  <style>
    :root {
      --neon-blue: #00d2ff;
      --neon-pink: #ff007f;
      --bg: #05050a;
    }

    * {
      box-sizing: border-box;
      touch-action: none; /* Prevents scrolling while playing */
    }

    body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: white;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      overflow: hidden;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    #game-wrapper {
      position: relative;
      flex-grow: 1;
      width: 100%;
      background: radial-gradient(circle at center, #1a1a2e 0%, #05050a 100%);
      overflow: hidden;
    }

    #player {
      position: absolute;
      bottom: 10%;
      left: 50%;
      width: 80px;
      height: 15px;
      background: var(--neon-blue);
      box-shadow: 0 0 20px var(--neon-blue);
      border-radius: 10px;
      transform: translateX(-50%);
    }

    .item {
      position: absolute;
      width: 25px;
      height: 25px;
      border-radius: 50%;
      z-index: 5;
    }

    .gem {
      background: var(--neon-pink);
      box-shadow: 0 0 15px var(--neon-pink);
    }

    .bomb {
      background: #fff;
      box-shadow: 0 0 15px #ff4d4d;
      clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
    }

    #ui {
      position: absolute;
      top: 20px;
      width: 100%;
      text-align: center;
      pointer-events: none;
      z-index: 10;
    }

    .score-board {
      font-size: 32px;
      font-weight: 800;
      letter-spacing: 2px;
      text-shadow: 0 0 10px var(--neon-blue);
    }

    #overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.85);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 100;
      text-align: center;
      padding: 20px;
    }

    button {
      padding: 15px 40px;
      font-size: 18px;
      font-weight: bold;
      color: white;
      background: transparent;
      border: 2px solid var(--neon-pink);
      border-radius: 50px;
      box-shadow: 0 0 15px var(--neon-pink);
      cursor: pointer;
      margin-top: 20px;
    }

    .hint {
      margin-top: 10px;
      font-size: 14px;
      color: #888;
    }
  </style>
</head>
<body>

  <div id="ui">
    <div class="score-board">SCORE: <span id="score">0</span></div>
  </div>

  <div id="game-wrapper">
    <div id="player"></div>
  </div>

  <div id="overlay">
    <h1 id="status-title">NEON CATCH</h1>
    <p id="status-msg">Slide your finger to move</p>
    <button onclick="startGame()">START GAME</button>
  </div>

  <script>
    const wrapper = document.getElementById('game-wrapper');
    const player = document.getElementById('player');
    const scoreEl = document.getElementById('score');
    const overlay = document.getElementById('overlay');
    const statusTitle = document.getElementById('status-title');
    const statusMsg = document.getElementById('status-msg');

    let score = 0;
    let isActive = false;
    let speed = 4;
    let spawnRate = 1000;
    let spawnTimer;

    // Mobile-Friendly Touch Control
    function handleMove(e) {
      if (!isActive) return;
      const clientX = e.touches ? e.touches[0].clientX : e.clientX;
      const wrapperRect = wrapper.getBoundingClientRect();
      let x = clientX - wrapperRect.left;
      
      // Keep within bounds
      x = Math.max(player.offsetWidth / 2, Math.min(x, wrapper.offsetWidth - player.offsetWidth / 2));
      player.style.left = x + 'px';
    }

    wrapper.addEventListener('touchmove', handleMove, { passive: false });
    wrapper.addEventListener('mousemove', handleMove);

    function createItem() {
      if (!isActive) return;

      const item = document.createElement('div');
      const isBomb = Math.random() > 0.85;
      item.className = isBomb ? 'item bomb' : 'item gem';
      
      const randomX = Math.random() * (wrapper.offsetWidth - 30) + 15;
      item.style.left = randomX + 'px';
      item.style.top = '-50px';
      wrapper.appendChild(item);

      let topPos = -50;
      
      const fall = setInterval(() => {
        if (!isActive) {
          clearInterval(fall);
          item.remove();
          return;
        }

        topPos += speed;
        item.style.top = topPos + 'px';

        const pRect = player.getBoundingClientRect();
        const iRect = item.getBoundingClientRect();

        // Mobile-optimized Collision
        if (
          iRect.bottom >= pRect.top &&
          iRect.top <= pRect.bottom &&
          iRect.right >= pRect.left &&
          iRect.left <= pRect.right
        ) {
          clearInterval(fall);
          item.remove();
          if (isBomb) {
            gameOver();
          } else {
            score += 10;
            scoreEl.innerText = score;
            if (score % 50 === 0) speed += 0.5; // Gradually harder
          }
        }

        if (topPos > window.innerHeight) {
          clearInterval(fall);
          item.remove();
        }
      }, 16);
    }

    function startGame() {
      score = 0;
      speed = 4;
      scoreEl.innerText = '0';
      isActive = true;
      overlay.style.display = 'none';
      spawnTimer = setInterval(createItem, spawnRate);
    }

    function gameOver() {
      isActive = false;
      clearInterval(spawnTimer);
      statusTitle.innerText = "GAME OVER";
      statusMsg.innerText = "Final Score: " + score;
      overlay.style.display = 'flex';
    }
  </script>
</body>
</html>
